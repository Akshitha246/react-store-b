{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\react-store-b\\\\src\\\\components\\\\Cart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { appContext } from \"../App\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n  const {\n    products,\n    cart,\n    setCart,\n    orders,\n    setOrders,\n    user\n  } = useContext(appContext);\n  const Navigate = useNavigate();\n  const [orderValue, setOrderValue] = useState(0);\n  const handleDelete = id => {\n    setCart({\n      ...cart,\n      [id]: 0\n    });\n  };\n  const increment = id => {\n    setCart({\n      ...cart,\n      [id]: cart[id] + 1\n    });\n  };\n  const decrement = id => {\n    setCart({\n      ...cart,\n      [id]: cart[id] - 1\n    });\n  };\n  const placeOrder = () => {\n    setOrders([...orders, {\n      email: user.email,\n      orderDate: Date(),\n      items: cart,\n      status: \"pending\",\n      total: orderValue\n    }]);\n    setCart({});\n    Navigate(\"/orders\");\n  };\n  useEffect(() => {\n    setOrderValue(products.reduce((sum, value) => {\n      var _cart$value$id;\n      return sum + value.price * ((_cart$value$id = cart[value.id]) !== null && _cart$value$id !== void 0 ? _cart$value$id : 0);\n    }, 0));\n  }, [cart]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), Object.keys(cart).length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [products.map(value => cart[value.id] > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [value.name, \"-\", value.price, \"-\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => decrement(value.id),\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 19\n        }, this), cart[value.id], /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => increment(value.id),\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 19\n        }, this), \"-\", value.price * cart[value.id], \"-\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(value.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Order Value:\", orderValue]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: user.email ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: placeOrder,\n          children: \"Place Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => Navigate(\"/login\"),\n          children: \"Login to Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Your cart is Empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"R+eqdfMjY9KnBP/7Qh2E+Clngds=\", false, function () {\n  return [useNavigate];\n});\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","useContext","appContext","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","products","cart","setCart","orders","setOrders","user","Navigate","orderValue","setOrderValue","handleDelete","id","increment","decrement","placeOrder","email","orderDate","Date","items","status","total","reduce","sum","value","_cart$value$id","price","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","length","map","name","onClick","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/react-store-b/src/components/Cart.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { appContext } from \"../App\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nexport default function Cart() {\r\n  const { products, cart, setCart, orders, setOrders, user } =\r\n    useContext(appContext);\r\n  const Navigate = useNavigate();\r\n  const [orderValue, setOrderValue] = useState(0);\r\n  const handleDelete = (id) => {\r\n    setCart({ ...cart, [id]: 0 });\r\n  };\r\n  const increment = (id) => {\r\n    setCart({ ...cart, [id]: cart[id] + 1 });\r\n  };\r\n  const decrement = (id) => {\r\n    setCart({ ...cart, [id]: cart[id] - 1 });\r\n  };\r\n  const placeOrder = () => {\r\n    setOrders([\r\n      ...orders,\r\n      {\r\n        email: user.email,\r\n        orderDate: Date(),\r\n        items: cart,\r\n        status: \"pending\",\r\n        total: orderValue,\r\n      },\r\n    ]);\r\n    setCart({});\r\n    Navigate(\"/orders\");\r\n  };\r\n  useEffect(() => {\r\n    setOrderValue(\r\n      products.reduce((sum, value) => {\r\n        return sum + value.price * (cart[value.id] ?? 0);\r\n      }, 0)\r\n    );\r\n  }, [cart]);\r\n  return (\r\n    <div>\r\n      <h2>My Cart</h2>\r\n      {Object.keys(cart).length > 0 ? (\r\n        <>\r\n          {products.map(\r\n            (value) =>\r\n              cart[value.id] > 0 && (\r\n                <div>\r\n                  {value.name}-{value.price}-\r\n                  <button onClick={() => decrement(value.id)}>-</button>\r\n                  {cart[value.id]}\r\n                  <button onClick={() => increment(value.id)}>+</button>-\r\n                  {value.price * cart[value.id]}-\r\n                  <button onClick={() => handleDelete(value.id)}>Delete</button>\r\n                </div>\r\n              )\r\n          )}\r\n          <h3>Order Value:{orderValue}</h3>\r\n          <p>\r\n            {user.email ? (\r\n              <button onClick={placeOrder}>Place Order</button>\r\n            ) : (\r\n              <button onClick={()=>Navigate(\"/login\")}>Login to Order</button>\r\n            )}\r\n          </p>\r\n        </>\r\n      ) : (\r\n        <h5>Your cart is Empty</h5>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}